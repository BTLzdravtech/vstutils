[uwsgi]
# name of prject
if-not-opt = lib_name
lib_name = vstutils
endif =

if-not-opt = program_name
program_name = %(lib_name)
endif =

# tcp port to bind
if-not-opt = http
http = :8080
endif =

# python module with Polemarch (should be in Python classpath)
if-not-opt = module
module = %(program_name).wsgi:application
endif =

# number of workers
if-not-opt = processes
processes = %k
endif =

# number of threads per worker
if-not-opt = threads
threads = 2
endif =

# path to static content
static-map = /static=%(program_name)/static
static-map = /static=/opt/%(program_name)/lib/python2.7/site-packages/%(program_name)/static
static-map = /static=/opt/%(program_name)/lib/python2.7/site-packages/vstutils/static

# PID-file for service
if-not-opt = pidfile
pidfile = /var/run/%(program_name)/web.pid
endif =

# log settings
if-not-opt = log_file
log_file = /var/log/%(program_name)/web.log
endif =

# settings.ini for development
ext_settings = %dsettings.ini
if-exists = %dsettings.ini
ini = %(_)
endif =

# daemonize or not
if-not-opt = daemon
daemon = true
endif =
if-opt = daemon=true
daemonize = %(log_file)
endif =
